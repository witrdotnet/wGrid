<html>
	<head>
		<script charset="utf-8" src="./prototype.js" type="text/javascript"></script>	
		<script charset="utf-8" src="./scriptaculous.js" type="text/javascript"></script>	
		<script charset="utf-8" src="./wGrid.js" type="text/javascript"></script>	
		<link rel="stylesheet" type="text/css" href="wGrid.css" /> 
		<style>
			
		</style>
	</head>
	<body>
		<input type=text id='filterColsText' /> <input type=button value="filtrer Cols" onclick="javascript:grid.filterCols($('filterColsText').value)"/><br/>
		<input type=text id='filterRowsText' /> <input type=button value="filtrer Rows" onclick="javascript:grid.filterRows($('filterRowsText').value)"/><br/>
	
		<div id ='cont'></div>
		<script language = "javascript">
		function getRandomName(){
			name = '';
			for(j=0; j<5; j++){
				var randomnumber=Math.floor(Math.random()*25)+65
				name = name + String.fromCharCode(randomnumber);
			}
			return name;
		}
		
			colsListsCount = 5;
			rowsListsCount = 10;
			maxValuesInLists = 10;
			colsValuesCount = 10;
			rowsValuesCount = 20;
			
			visibleCols = 10;
			visibleRows = 20;
		
			var colsList = new Array();
			var rowsList = new Array();
			
			// append cols lists
			valId = 0;
			for(i =1; i<=colsListsCount;i++) {
				valuesList = new Array();
				valuesListCount = Math.floor(Math.random()*maxValuesInLists);
				for(v =1; v<=valuesListCount;v++) {
					valId++;
					valueName = getRandomName();
					valuesList.push({type:'VALUE', key:valId, name:valueName +"("+valId+")"});					
				}			
				listName = getRandomName();
				colsList.push({type:'LIST', key:i, name:listName +"("+i+")", elements : valuesList, collapsed:false});
			}
			
			// append cols values(without lists)
			for(v =1; v<=colsValuesCount;v++) {
				valId++;
				valueName = getRandomName();
				colsList.push({type:'VALUE', key:valId, name:valueName +"("+valId+")"});					
			}			
			
			// append rows lists
			valId = 0;
			for(i =1; i<=rowsListsCount;i++) {
				valuesList2 = new Array();
				valuesListCount = Math.floor(Math.random()*maxValuesInLists);				
				for(v =1; v<=valuesListCount;v++) {
					valId++;
					valueName = getRandomName();
					valuesList2.push({type:'VALUE', key:valId, name:valueName +"("+valId+")"});					
				}			
				listName = getRandomName();
				rowsList.push({type:'LIST', key:i, name:listName +"("+i+")", elements : valuesList2, collapsed:false});
			}
			
			// append rows values(without lists)
			for(v =1; v<=rowsValuesCount;v++) {
				valId++;
				valueName = getRandomName();
				rowsList.push({type:'VALUE', key:valId, name:valueName +"("+valId+")"});					
			}			
			
			grid = new WGrid('cont',{
									data : {cols:colsList, rows:rowsList},
									grid:{visibleColsCount:visibleCols,visibleRowsCount:visibleRows}
									}
								);
			Event.observe(document, 'keydown', function(event){ 				
				if(event.keyCode == Event.KEY_RIGHT) grid.shiftRight();
				if(event.keyCode == Event.KEY_LEFT) grid.shiftLeft();
				if(event.keyCode == Event.KEY_UP) grid.shiftTop();
				if(event.keyCode == Event.KEY_DOWN) grid.shiftBottom();
			});
			
		</script>
		
	</body>
</html>